<script src="js/pixi.min.js" defer></script>
<script src="js/pig.js" defer></script>
<div class="game pig" id="game-pig"></div>
<script defer>
	const game_pig = document.querySelector('#game-pig');
	function resize_game_pig() {
		const pig_canvas = game_pig.firstChild;
		const available_width = game_pig.parentNode.getBoundingClientRect().width - 32;
		console.log(available_width);
		let scale = Math.min(1, available_width / 480);
		pig_canvas.style.scale = `${scale}`;
	}
	window.addEventListener('load', () => {
		resize_game_pig();
		window.addEventListener('resize', () => resize_game_pig());
	});
</script>